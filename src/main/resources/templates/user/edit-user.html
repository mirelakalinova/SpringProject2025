<div class="container align-content-center home" xmlns:th="http://www.w3.org/1999/xhtml">
    <!-- todo ако може да се взема от някакви настройки -->
    <h1>Добави потребител</h1>
    <div th:if="${error}" class="error"><span th:text="${error}" ></span></div>
    <div th:if="${success}"  class="success"><span th:text="${success}" ></span></div>
    <form  th:action="@{/add-user}" th:method="post"         th:object="${addUserDto}">

        <div class="row row-view">
            <div class="col-lg-6 elements">
                <div class="group">
                    <label for="firstName">Име:</label><br>
                    <input th:field="*{firstName}" class="form-control" type="text" id="firstName" name="firstName"
                           required>
                    <div class="error-message" th:if="${#fields.hasErrors('firstName')}">
                        <span th:text="${#fields.errors('firstName').get(0)}"></span>
                    </div>
                </div>
                <div class="group">
                    <label for="lastName">Фамилия:</label><br>
                    <input th:field="*{lastName}" class="form-control" type="text" id="lastName" name="lastName"
                           required>
                    <div class="error-message" th:if="${#fields.hasErrors('lastName')}">
                        <span th:text="${#fields.errors('lastName').get(0)}"></span>
                    </div>
                </div>

                <div class="group">
                    <label for="username">Username:</label><br>
                    <input th:field="*{username}" class="form-control" type="text" id="username" name="username"
                           disabled>

                </div>
                <div class="group">
                    <label for="email">Email:</label><br>
                    <input th:field="*{email}" class="form-control" type="email" id="email" name="email" disabled>

                </div>
                <div class="group">
                    <label for="password">Парола:</label><br>
                    <input th:field="*{password}" class="form-control" type="password" id="password" name="password"
                           required>
                    <div class="error-message" th:if="${#fields.hasErrors('password')}">
                        <span th:text="${#fields.errors('password').get(0)}"></span>
                    </div>
                </div>
                <div class="group">
                    <label for="role" id="label-role">Роля</label>
                    <select th:field="*{role}" id="role" name="role"  th:attr="disabled=${!#authorization.expression('hasRole(''ADMIN'')')}">
                        <option value="" selected disabled>Избери</option>
                        <option id="admin" name="admin" value="admin">Администратор</option>
                        <option id="editor" name="editor" value="editor">Редактор</option>
                    </select>
                    <div class="error-message" th:if="${#fields.hasErrors('role')}">
                        <span th:text="${#fields.errors('role').get(0)}"></span>
                    </div>
                </div>
            </div>
        </div>
        <button type="submit" value="Изпрати">Запиши</button>
    </form>
</div>
